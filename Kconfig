# This file is part of vermillion.

# Vermillion is free software: you can redistribute it and/or modify it
# under the terms of the GNU General Public License as published
# by the Free Software Foundation, version 3.

# Vermillion is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
# See the GNU General Public License for more details.

# You should have received a copy of the GNU General Public License
# along with vermillion. If not, see <https://www.gnu.org/licenses/>.

# Architecture configuration

menu "General setup"

choice ARCH
    prompt "Architecture"
config ARCH_ARM
    bool "ARM"
endchoice

menu "Architecture options"
source arch/arm/Kconfig
endmenu

menu "Compilation"
config ARCH
    string "Arch name"
    default arm  if ARCH_ARM
config TARGET
    string "Target triple"
    default arm-none-eabi if ARCH_ARM
config CFLAGS_ARCH
    string "Additional Arch CFLAGS"
    default "-fpic -Wl,--no-warn-rwx-segment" if ARCH_ARM
config CFLAGS_BOARD
    string "Additional Board CFLAGS"
config DEVICE_TREE
    string "Board device tree"
endmenu

menu "General purpose RAM"
config RAM_ADDRESS
    hex "Mapped address"
config RAM_SIZE
    hex "Full length"
config STACK_SIZE
    hex "Kernel stack size"
    default 0x8000
endmenu

endmenu

# Driver configuration

menu "Device drivers"

# Storage configuration

menu "Storage"
config STORAGE_MEMORY
    bool "Memory device"
config STORAGE_SUNXI_MMC
    bool "Sunxi SD/MMC"
    default y if ARCH_ARM_SUNXI
    depends on ARCH_ARM
endmenu

# Filesystem configuration

menu "Filesystem"
config FS_MBR
    bool "MBR"
config FS_FAT32
    bool "Fat32"
endmenu

# Serial configuration

menu "Serial"
config SERIAL_SUNXI_UART
    bool "Sunxi UART"
    default y if ARCH_ARM_SUNXI
    depends on ARCH_ARM
endmenu

# SPI configuration

menu "SPI"
config SPI_SUNXI_SPI
    bool "Sunxi SPI"
    default y if ARCH_ARM_SUNXI
    depends on ARCH_ARM
endmenu

# Timer configuration

menu "Timer"
config TIMER_SUNXI_TIMER
    bool "Sunxi Timer"
    default y if ARCH_ARM_SUNXI
    depends on ARCH_ARM
endmenu

# GPIO configuration

menu "GPIO"
config GPIO_SUNXI_GPIO
    bool "Sunxi GPIO"
    default y if ARCH_ARM_SUNXI
    depends on ARCH_ARM
endmenu

endmenu
